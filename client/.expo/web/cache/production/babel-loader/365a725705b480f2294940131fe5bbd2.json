{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useState,useRef,useEffect}from\"react\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import\"ol/ol.css\";import{tryWatchLocation,addBadgePins,addUserPin,createMap}from\"./mapUtilities\";import sentinelsLabel from\"../images/sentinelsLabel.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles=StyleSheet.create({mapContainer:{width:\"95%\"},map:{zIndex:0,height:400,width:\"100%\",borderRadius:50,overflow:\"hidden\"},mapLabel:{width:200,height:100,zIndex:10,marginLeft:25,marginBottom:-100,resizeMode:\"contain\"}});var UserMap=function UserMap(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),map=_useState2[0],setMap=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userPin=_useState4[0],setUserPin=_useState4[1];var mapElement=useRef();useEffect(function(){if(!map){var createdMap=createMap(mapElement);setMap(createdMap);return;}if(!userPin){var newUserPin=addUserPin(map);setUserPin(newUserPin);map.addLayer(newUserPin);return;}addBadgePins(map);tryWatchLocation(userPin);});return _jsxs(View,{style:styles.mapContainer,children:[_jsx(Image,{style:styles.mapLabel,source:sentinelsLabel}),_jsx(View,{style:styles.map,ref:mapElement})]});};export default UserMap;","map":{"version":3,"sources":["C:/Users/Joshua/comp-4800-team-4/client/UserMap/UserMap.js"],"names":["useState","useRef","useEffect","tryWatchLocation","addBadgePins","addUserPin","createMap","sentinelsLabel","styles","StyleSheet","create","mapContainer","width","map","zIndex","height","borderRadius","overflow","mapLabel","marginLeft","marginBottom","resizeMode","UserMap","setMap","userPin","setUserPin","mapElement","createdMap","newUserPin","addLayer"],"mappings":"iEAAA,OAASA,QAAT,CAAmBC,MAAnB,CAA2BC,SAA3B,KAA4C,OAA5C,C,6KAEA,MAAO,WAAP,CAEA,OAASC,gBAAT,CAA2BC,YAA3B,CAAyCC,UAAzC,CAAqDC,SAArD,sBACA,MAAOC,CAAAA,cAAP,oC,wFAEA,GAAMC,CAAAA,MAAM,CAAGC,UAAU,CAACC,MAAX,CAAkB,CAC/BC,YAAY,CAAE,CACZC,KAAK,CAAE,KADK,CADiB,CAI/BC,GAAG,CAAE,CACHC,MAAM,CAAE,CADL,CAEHC,MAAM,CAAE,GAFL,CAGHH,KAAK,CAAE,MAHJ,CAIHI,YAAY,CAAE,EAJX,CAKHC,QAAQ,CAAE,QALP,CAJ0B,CAW/BC,QAAQ,CAAE,CACRN,KAAK,CAAE,GADC,CAERG,MAAM,CAAE,GAFA,CAGRD,MAAM,CAAE,EAHA,CAIRK,UAAU,CAAE,EAJJ,CAKRC,YAAY,CAAE,CAAC,GALP,CAMRC,UAAU,CAAE,SANJ,CAXqB,CAAlB,CAAf,CAqBA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,cAAsBtB,QAAQ,EAA9B,wCAAOa,GAAP,eAAYU,MAAZ,eACA,eAA8BvB,QAAQ,EAAtC,yCAAOwB,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,UAAU,CAAGzB,MAAM,EAAzB,CAEAC,SAAS,CAAC,UAAM,CACd,GAAI,CAACW,GAAL,CAAU,CACR,GAAIc,CAAAA,UAAU,CAAGrB,SAAS,CAACoB,UAAD,CAA1B,CACAH,MAAM,CAACI,UAAD,CAAN,CACA,OACD,CAED,GAAI,CAACH,OAAL,CAAc,CACZ,GAAII,CAAAA,UAAU,CAAGvB,UAAU,CAACQ,GAAD,CAA3B,CACAY,UAAU,CAACG,UAAD,CAAV,CACAf,GAAG,CAACgB,QAAJ,CAAaD,UAAb,EACA,OACD,CAEDxB,YAAY,CAACS,GAAD,CAAZ,CACAV,gBAAgB,CAACqB,OAAD,CAAhB,CACD,CAhBQ,CAAT,CAkBA,MACE,OAAC,IAAD,EAAM,KAAK,CAAEhB,MAAM,CAACG,YAApB,WACE,KAAC,KAAD,EAAO,KAAK,CAAEH,MAAM,CAACU,QAArB,CAA+B,MAAM,CAAEX,cAAvC,EADF,CAEE,KAAC,IAAD,EAAM,KAAK,CAAEC,MAAM,CAACK,GAApB,CAAyB,GAAG,CAAEa,UAA9B,EAFF,GADF,CAMD,CA7BD,CA+BA,cAAeJ,CAAAA,OAAf","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport { View, Image, StyleSheet } from \"react-native\";\r\nimport \"ol/ol.css\";\r\n\r\nimport { tryWatchLocation, addBadgePins, addUserPin, createMap } from \"./mapUtilities\";\r\nimport sentinelsLabel from \"../images/sentinelsLabel.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  mapContainer: {\r\n    width: \"95%\",\r\n  },\r\n  map: {\r\n    zIndex: 0,\r\n    height: 400,\r\n    width: \"100%\",\r\n    borderRadius: 50,\r\n    overflow: \"hidden\"\r\n  },\r\n  mapLabel: {\r\n    width: 200,\r\n    height: 100,\r\n    zIndex: 10,\r\n    marginLeft: 25,\r\n    marginBottom: -100,\r\n    resizeMode: \"contain\",\r\n  }\r\n});\r\n\r\nconst UserMap = () => {\r\n  const [map, setMap] = useState();\r\n  const [userPin, setUserPin] = useState();\r\n  const mapElement = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!map) {\r\n      let createdMap = createMap(mapElement);\r\n      setMap(createdMap);\r\n      return;\r\n    }\r\n\r\n    if (!userPin) {\r\n      let newUserPin = addUserPin(map);\r\n      setUserPin(newUserPin);\r\n      map.addLayer(newUserPin);\r\n      return;\r\n    }\r\n\r\n    addBadgePins(map);\r\n    tryWatchLocation(userPin);\r\n  });\r\n\r\n  return (\r\n    <View style={styles.mapContainer}>\r\n      <Image style={styles.mapLabel} source={sentinelsLabel} />\r\n      <View style={styles.map} ref={mapElement} />\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default UserMap;\r\n"]},"metadata":{},"sourceType":"module"}