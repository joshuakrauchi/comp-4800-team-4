{"ast":null,"code":"import \"ol/ol.css\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport pinData from \"./data/pinData\";\nimport circleRed from \"./images/circleRed.png\";\nimport Map from \"ol/Map\";\nimport TileLayer from \"ol/layer/Tile\";\nimport View from \"ol/View\";\nimport OSM from \"ol/source/OSM\";\nimport { fromLonLat } from \"ol/proj\";\nimport createPinLayer from \"./utilities/createPinLayer\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar UserMap = function UserMap() {\n  var mapElement = useRef();\n\n  var addPins = function addPins(map) {\n    Object.keys(pinData).forEach(function (key) {\n      var name = key;\n      var crab = pinData[key];\n      map.addLayer(createPinLayer(crab.lon, crab.lat, name, circleRed));\n    });\n  };\n\n  var addLocation = function addLocation(map) {\n    if (!navigator.geolocation) return;\n    navigator.geolocation.getCurrentPosition(function (position) {\n      var coords = position.coords;\n      console.log(position.coords);\n      map.addLayer(createPinLayer(coords.longitude, coords.latitude, \"me\", circleRed));\n    });\n  };\n\n  useEffect(function () {\n    var map = new Map({\n      target: mapElement.current,\n      layers: [new TileLayer({\n        source: new OSM()\n      })],\n      view: new View({\n        center: fromLonLat([37.41, 8.82]),\n        zoom: 4\n      })\n    });\n    addLocation(map);\n    addPins(map);\n  }, []);\n  setInterval(function () {\n    addLocation();\n  }, 1000);\n  return _jsx(\"div\", {\n    ref: mapElement,\n    style: {\n      height: \"600px\",\n      width: \"100%\"\n    }\n  });\n};\n\nexport default UserMap;","map":{"version":3,"sources":["C:/Users/Joshua/comp-4800-team-4/client/UserMap.js"],"names":["React","useState","useRef","useEffect","pinData","circleRed","Map","TileLayer","View","OSM","fromLonLat","createPinLayer","UserMap","mapElement","addPins","map","Object","keys","forEach","key","name","crab","addLayer","lon","lat","addLocation","navigator","geolocation","getCurrentPosition","position","coords","console","log","longitude","latitude","target","current","layers","source","view","center","zoom","setInterval","height","width"],"mappings":"AAAA,OAAO,WAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,OAAP;AACA,OAAOC,SAAP;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,GAAP,MAAgB,eAAhB;AACA,SAASC,UAAT,QAA2B,SAA3B;AACA,OAAOC,cAAP;;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,MAAMC,UAAU,GAAGX,MAAM,EAAzB;;AAEA,MAAMY,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAS;AACvBC,IAAAA,MAAM,CAACC,IAAP,CAAYb,OAAZ,EAAqBc,OAArB,CAA6B,UAACC,GAAD,EAAS;AACpC,UAAIC,IAAI,GAAGD,GAAX;AACA,UAAIE,IAAI,GAAGjB,OAAO,CAACe,GAAD,CAAlB;AAEAJ,MAAAA,GAAG,CAACO,QAAJ,CAAaX,cAAc,CAACU,IAAI,CAACE,GAAN,EAAWF,IAAI,CAACG,GAAhB,EAAqBJ,IAArB,EAA2Bf,SAA3B,CAA3B;AACD,KALD;AAMD,GAPD;;AASA,MAAMoB,WAAW,GAAG,SAAdA,WAAc,CAACV,GAAD,EAAS;AAC3B,QAAI,CAACW,SAAS,CAACC,WAAf,EAA4B;AAE5BD,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAACC,QAAD,EAAc;AACrD,UAAIC,MAAM,GAAGD,QAAQ,CAACC,MAAtB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,MAArB;AACAf,MAAAA,GAAG,CAACO,QAAJ,CAAaX,cAAc,CAACmB,MAAM,CAACG,SAAR,EAAmBH,MAAM,CAACI,QAA1B,EAAoC,IAApC,EAA0C7B,SAA1C,CAA3B;AACD,KAJD;AAKD,GARD;;AAUAF,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMY,GAAG,GAAG,IAAIT,GAAJ,CAAQ;AAClB6B,MAAAA,MAAM,EAAEtB,UAAU,CAACuB,OADD;AAElBC,MAAAA,MAAM,EAAE,CACN,IAAI9B,SAAJ,CAAc;AACZ+B,QAAAA,MAAM,EAAE,IAAI7B,GAAJ;AADI,OAAd,CADM,CAFU;AAOlB8B,MAAAA,IAAI,EAAE,IAAI/B,IAAJ,CAAS;AACbgC,QAAAA,MAAM,EAAE9B,UAAU,CAAC,CAAC,KAAD,EAAQ,IAAR,CAAD,CADL;AAEb+B,QAAAA,IAAI,EAAE;AAFO,OAAT;AAPY,KAAR,CAAZ;AAaAhB,IAAAA,WAAW,CAACV,GAAD,CAAX;AAEAD,IAAAA,OAAO,CAACC,GAAD,CAAP;AACD,GAjBQ,EAiBN,EAjBM,CAAT;AAmBA2B,EAAAA,WAAW,CAAC,YAAM;AAChBjB,IAAAA,WAAW;AACZ,GAFU,EAER,IAFQ,CAAX;AAIA,SAAO;AAAK,IAAA,GAAG,EAAEZ,UAAV;AAAsB,IAAA,KAAK,EAAE;AAAE8B,MAAAA,MAAM,EAAE,OAAV;AAAmBC,MAAAA,KAAK,EAAE;AAA1B;AAA7B,IAAP;AACD,CA9CD;;AAgDA,eAAehC,OAAf","sourcesContent":["import \"ol/ol.css\";\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport pinData from \"./data/pinData\";\r\nimport circleRed from \"./images/circleRed.png\";\r\nimport Map from \"ol/Map\";\r\nimport TileLayer from \"ol/layer/Tile\";\r\nimport View from \"ol/View\";\r\nimport OSM from \"ol/source/OSM\";\r\nimport { fromLonLat } from \"ol/proj\";\r\nimport createPinLayer from \"./utilities/createPinLayer\";\r\n\r\nconst UserMap = () => {\r\n  const mapElement = useRef();\r\n\r\n  const addPins = (map) => {\r\n    Object.keys(pinData).forEach((key) => {\r\n      let name = key;\r\n      let crab = pinData[key];\r\n\r\n      map.addLayer(createPinLayer(crab.lon, crab.lat, name, circleRed));\r\n    });\r\n  };\r\n\r\n  const addLocation = (map) => {\r\n    if (!navigator.geolocation) return;\r\n\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      let coords = position.coords;\r\n      console.log(position.coords);\r\n      map.addLayer(createPinLayer(coords.longitude, coords.latitude, \"me\", circleRed));\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const map = new Map({\r\n      target: mapElement.current,\r\n      layers: [\r\n        new TileLayer({\r\n          source: new OSM(),\r\n        }),\r\n      ],\r\n      view: new View({\r\n        center: fromLonLat([37.41, 8.82]),\r\n        zoom: 4,\r\n      }),\r\n    });\r\n\r\n    addLocation(map);\r\n\r\n    addPins(map);\r\n  }, []);\r\n\r\n  setInterval(() => {\r\n    addLocation();\r\n  }, 1000);\r\n\r\n  return <div ref={mapElement} style={{ height: \"600px\", width: \"100%\" }}></div>;\r\n};\r\n\r\nexport default UserMap;\r\n"]},"metadata":{},"sourceType":"module"}